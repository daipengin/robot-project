# ロボット制御教材の修正内容まとめ

## 全体での変更点
- ロボットを **LEGO SPIKE PRIME** に変更する。
- プログラミング言語を **C言語からPython** に変更する。

---

## ロボット制御の手順パワポに関する修正箇所

### 実験0。基本動作プログラム
#### 内容
1. 1秒前進する。
2. 1秒後退する。

#### 修正方針
- 動作内容の変更は無し。
- 書き込み手順などを **Python向けの説明に差し替える**。

---

### 実験1。サウンドの利用
#### 内容
1. `play_notes` を使って音楽を2回鳴らす。
2. 2秒休む。
3. `beep` を使って5音違う音を鳴らす。
4. 1秒休む。
5. 3へ戻り、3〜5を繰り返す。

#### 修正方針
- `PlaySound`、`PlayTone` が存在しないため、代わりに **`play_notes` と `beep` を使用する**。
- `play_notes` で鳴らす音楽は **事前に用意しておく**。

---

### 実験2。タッチセンサの利用
#### 内容
1. 障害物が無い時はまっすぐ進む。
2. 右の接触センサに接触したら、後ろに0.5秒後退し、左に120度程度回転する。
3. 左の接触センサに接触したら、後ろに0.5秒後退し、右に120度程度回転する。
4. 1〜3を繰り返す。

#### 修正方針
- 動作内容の変更は無し。
- ヒントの内容を **Pythonで書く際の内容に変更する**。

---

### 実験3。PWMによるモーター制御
#### 内容
1. 高い音を鳴らす。その後、5秒間高速で左右モーターを回す。
2. 中程度の音を鳴らす。その後、5秒間中速で左右モーターを回す。
3. 低い音を鳴らす。その後、5秒間低速で左右モーターを回す。
4. 最後に音を出して停止する。

#### 制約
- モーターの動作には `run(1000)` のみを使う。
- 数値は変更しない。

#### 修正方針
- 関数で速さを指定できてしまうため、**関数で速さを変えない**ように注意書きを追加する。

---

### 実験4。並行プログラミング
#### 内容
1. 右方向へ回転しながら `star()` を実行する。
2. 左方向へ回転しながら `tika()` を実行する。
3. 1および2を3回繰り返す。
4. `beep` で1回音を鳴らし、1秒前進する。
5. `beep` で1回音を鳴らし、1秒後退する。

#### 修正方針
- 並列処理を行う `task` が存在しなかったため、**`async` 関数を定義し、`multitask` で回転動作と音楽を並列処理**する。
- `multitask` は `async` 関数内でしか動かないため、**`async def main()` が必要**であることを説明する。
- 非同期処理の説明を追加するかは検討事項とする。

---

### 実験5。統合動作、並行プログラミング
#### 内容
1. 障害物が無い時はまっすぐ進む。
2. 右の接触センサに接触したら、後ろに0.5秒後退し、左に120度程度回転する。
3. 左の接触センサに接触したら、後ろに0.5秒後退し、右に120度程度回転する。
4. 2のとき `beep` を使って高い音を鳴らし続ける。
5. 3のとき `beep` を使って低い音を鳴らし続ける。
6. 各処理を繰り返す。

#### 制約
- 定義するグローバル変数は1個のみとする。
- `async` 関数は `main`、`sound`、`motion` の3つのみとする。

#### 修正方針
- 実験4と同様に、並列処理の実現方法と制約の意図を説明する。

---

## ロボット制御実験書に関する修正箇所

### 1。実験の目的
- 「C言語」と書かれている箇所を **Python** に変更する。
- 「並行プログラミング」を **非同期処理** に置き換えるかは検討事項とする。

### 2。原理
- 変更点は無し。

### 3。使用器具
- 使用器具を **LEGO SPIKE PRIME** に更新する。

### 4。プログラミング言語
- C言語向けの説明を基本的にすべて **Python向けに差し替える**。
- 非同期処理の書き方、関数の説明を追加する。

### 5。実験方法
- 書き込み手順は **完全に新規作成**する必要がある。
- 各実験の説明はパワポと同じ方針で更新する。

### 6。考察
- 変更点は無し。
- 非同期処理に関する考察課題を追加するかは検討事項とする。

### 7。参考文献
- Pybricksリファレンス  
  - https://docs.pybricks.com/en/stable/index.html

---

## 作業時間

### 完了済み
- 新規ロボット選定・設計・組み立て。12h
- ロボット動作確認・プログラム作成。12h

### 未完了。見込み時間
- 手順書・実験書修正。12h
- 学生用の実験環境準備
  - ロボット組み立て。6h
  - PCセットアップ。6h

###　購入物
- ロボットセット　6セット
- ノートパソコン(Bluetooth通信ができればいい)　6台


